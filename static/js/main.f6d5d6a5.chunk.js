(this["webpackJsonpclient-g-tech"]=this["webpackJsonpclient-g-tech"]||[]).push([[0],{117:function(e,t,r){"use strict";r.r(t);r(86);var n=r(0),a=r(11),c=r.n(a),s=r(69),i=r(70),o=r(77),u=r(76),l=(r(91),r(12)),j=r(40),d=r(78),b=r(2),p=["user","component","render"],m=function(e){var t=e.user,r=e.component,n=e.render,a=Object(d.a)(e,p);return t&&n?(console.log("there is a user"),Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:n}))):(console.log("no user"),Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return t?Object(b.jsx)(r,Object(j.a)({},e)):Object(b.jsx)(l.a,{to:"/"})}})))},O=r(7),h=r(157),f=r(75),g=r(167),x=r(159),v=r(154),y=Object(v.a)({menu:{marginTop:"3em"}}),S=function(e){var t=Object(n.useState)(null),r=Object(O.a)(t,2),a=r[0],c=r[1],s=Boolean(a),i=y(),o=function(){c(null)};return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(h.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},children:"admin"}),Object(b.jsx)(f.a,{className:i.menu,anchorEl:a,keepMounted:!0,open:s,onClose:o,TransitionComponent:x.a,children:Object(b.jsx)(g.a,{onClick:o,children:e.children})})]})},w=r(161),C=r(162),k=r(15),N=r(160),U=Object(v.a)({link:{margin:"1rem"},navBar:{marginBottom:"2rem"}}),W=function(e){var t=e.user,r=e.isAdmin,a=U(),c=Object(b.jsx)(n.Fragment,{children:Object(b.jsxs)(S,{children:[Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/create-product",children:"Create"}),Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/update-product",children:"Update"}),Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/index-products",children:"Index"})]})}),s=Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/change-password",color:"inherit",children:"Change Password"}),Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/sign-out",color:"inherit",children:"Sign Out"})]}),i=Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/sign-up",color:"inherit",children:"Sign Up"}),Object(b.jsx)(N.a,{className:a.link,component:k.b,to:"/sign-in",color:"inherit",children:"Sign In"})]});return Object(b.jsx)(w.a,{position:"static",className:a.navBar,children:Object(b.jsxs)(C.a,{style:{justifyContent:"flex-end"},children:[t?s:i,r?c:""]})})},P=r(13),A=r.n(P),D=r(19),q="http://localhost:8080",I=r(26),T=r.n(I),B=function(e,t,r){return T()({method:"POST",url:q+"/sign-up",data:{credentials:{email:e,password:t,password_confirmation:r}}})},E=function(e,t){return T()({method:"POST",url:q+"/sign-in",data:{credentials:{email:e,password:t}}})},F=function(e,t,r){return console.log(e),T()({method:"PATCH",url:q+"/change-password",headers:{Authorization:"Bearer ".concat(e.token)},data:{passwords:{old:t,new:r}}})},G=function(e){return T()({method:"DELETE",url:q+"/sign-out",headers:{Authorization:"Bearer ".concat(e.token)}})},z=r(80),H=r(166),Q=r(118),R=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),_=Object(l.g)((function(e){var t=e.setUser,r=e.history,a=Object(n.useState)(""),c=Object(O.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),u=Object(O.a)(o,2),l=u[0],j=u[1],d=Object(n.useState)(""),p=Object(O.a)(d,2),m=p[0],f=p[1],g=R();return Object(b.jsxs)(z.a,{className:g.paper,children:[Object(b.jsx)(Q.a,{variant:"h4",align:"center",children:"Sign Up"}),Object(b.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),function(){var e=Object(D.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(s,l,m);case 3:n=e.sent,t(n.data.user),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error message: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(b.jsx)(H.a,{className:g.input,value:s,onChange:function(e){return i(e.target.value)},label:"Email",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(H.a,{className:g.input,value:l,onChange:function(e){return j(e.target.value)},label:"Password",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(H.a,{className:g.input,value:m,onChange:function(e){return f(e.target.value)},label:"Password Confirm",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),J=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),L=Object(l.g)((function(e){e.user;var t=e.setUser,r=e.setIsAdmin,a=e.history,c=Object(n.useState)(""),s=Object(O.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)(""),l=Object(O.a)(u,2),j=l[0],d=l[1],p=J();return Object(b.jsxs)(z.a,{className:p.paper,children:[Object(b.jsx)(Q.a,{variant:"h4",align:"center",children:"Sign In"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(D.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(i,j);case 3:n=e.sent,t(n.data.user),"admin"===n.data.user.role&&r(!0),a.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(b.jsx)(H.a,{className:p.input,value:i,onChange:function(e){return o(e.target.value)},label:"Email",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(H.a,{className:p.input,value:j,onChange:function(e){return d(e.target.value)},label:"Password",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),M=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),V=Object(l.g)((function(e){var t=e.user,r=e.history,a=Object(n.useState)(""),c=Object(O.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),u=Object(O.a)(o,2),l=u[0],j=u[1],d=M();return Object(b.jsxs)(z.a,{className:d.paper,children:[Object(b.jsx)(Q.a,{variant:"h4",align:"center",children:"Change Password"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(D.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t,s,l);case 3:n=e.sent,console.log("changepassword response:",n),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(b.jsx)(H.a,{className:d.input,value:s,onChange:function(e){return i(e.target.value)},label:"old password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(H.a,{className:d.input,value:l,onChange:function(e){return j(e.target.value)},label:"new password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),K=Object(l.g)((function(e){var t=e.user,r=e.setIsAdmin,a=e.clearUser,c=e.history;return Object(n.useEffect)((function(){!function(){var e=Object(D.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{G(t),a(),r(!1),c.push("/")}catch(n){console.log("error")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()})),null})),X=function(e,t,r,n,a,c,s,i,o,u){return T()({method:"POST",url:q+"/products",headers:{Authorization:"Bearer ".concat(e.token)},data:{product:{productDetails:{title:t,description:r,imageUrl:n,creator:a,genre:c,platform:s,rating:i},purchaseDetails:{quantity:o,price:u}}}})},Y=function(e,t,r,n,a,c,s,i,o,u,l){return T()({method:"PATCH",url:q+"/products/"+t,headers:{Authorization:"Bearer ".concat(e.token)},data:{product:{productDetails:{title:r,description:n,imageUrl:a,creator:c,genre:s,platform:i,rating:o},purchaseDetails:{quantity:u,price:l}}}})},Z=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),$=function(e){var t=e.onSubmitProduct,r=e.title,n=e.setTitle,a=e.description,c=e.setDescription,s=e.imageUrl,i=e.setImageUrl,o=e.creator,u=e.setCreator,l=e.genre,j=e.setGenre,d=e.platform,p=e.setPlatform,m=e.rating,O=e.setRating,f=e.quantity,g=e.setQuantity,x=e.price,v=e.setPrice,y=Z();return Object(b.jsxs)(z.a,{className:y.paper,children:[Object(b.jsx)(Q.a,{variant:"h4",align:"center",children:"Add a product"}),Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)(H.a,{className:y.input,value:r,onChange:function(e){return n(e.target.value)},label:"Title",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(H.a,{className:y.input,value:a,onChange:function(e){return c(e.target.value)},label:"Description",color:"primary",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,required:!0}),Object(b.jsx)(H.a,{className:y.input,value:s,onChange:function(e){return i(e.target.value)},label:"Image",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(H.a,{className:y.input,value:o,onChange:function(e){return u(e.target.value)},label:"Creator",color:"primary",fullWidth:!0}),Object(b.jsx)(H.a,{className:y.input,value:l,onChange:function(e){return j(e.target.value)},label:"Genre",color:"primary",fullWidth:!0}),Object(b.jsx)(H.a,{className:y.input,value:d,onChange:function(e){return p(e.target.value)},label:"Platform",color:"primary",fullWidth:!0}),Object(b.jsx)(H.a,{className:y.input,value:m,onChange:function(e){return O(e.target.value)},label:"Rating",color:"primary",fullWidth:!0}),Object(b.jsx)(H.a,{className:y.input,value:f,onChange:function(e){return g(e.target.value)},label:"Quantity",color:"primary",fullWidth:!0}),Object(b.jsx)(H.a,{className:y.input,value:x,onChange:function(e){return v(e.target.value)},label:"Price",color:"primary",fullWidth:!0}),Object(b.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})},ee=function(e){var t=e.user,r=Object(n.useState)(""),a=Object(O.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),o=Object(O.a)(i,2),u=o[0],l=o[1],j=Object(n.useState)(""),d=Object(O.a)(j,2),p=d[0],m=d[1],h=Object(n.useState)(""),f=Object(O.a)(h,2),g=f[0],x=f[1],v=Object(n.useState)(""),y=Object(O.a)(v,2),S=y[0],w=y[1],C=Object(n.useState)(""),k=Object(O.a)(C,2),N=k[0],U=k[1],W=Object(n.useState)(0),P=Object(O.a)(W,2),q=P[0],I=P[1],T=Object(n.useState)(0),B=Object(O.a)(T,2),E=B[0],F=B[1],G=Object(n.useState)(0),z=Object(O.a)(G,2),H=z[0],Q=z[1];return Object(b.jsx)($,{onSubmitProduct:function(e){e.preventDefault(),function(){var e=Object(D.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t,c,u,p,g,S,N,q,E,H);case 3:r=e.sent,console.log("successfully created",r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},title:c,setTitle:s,description:u,setDescription:l,imageUrl:p,setImageUrl:m,creator:g,setCreator:x,genre:S,setGenre:w,platform:N,setPlatform:U,rating:q,setRating:I,quantity:E,setQuantity:F,price:H,setPrice:Q})},te=r(163),re=r(164),ne=Object(v.a)({root:{maxWidth:"20rem",maxHeight:"30rem",margin:"2rem auto"},mediaContainer:{maxWidth:"7rem",margin:"1rem auto"},media:{display:"block",maxHeight:"100%",maxWidth:"100%"}}),ae=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),r=t[0],a=t[1],c=ne();return Object(n.useEffect)((function(){(function(){var e=Object(D.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T()({method:"GET",url:q+"/products"});case 3:t=e.sent,a(t.data.product),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(r),Object(b.jsx)(n.Fragment,{children:r.map((function(e){return Object(b.jsxs)(te.a,{className:c.root,children:[Object(b.jsx)("div",{className:c.mediaContainer,children:Object(b.jsx)("img",{className:c.media,src:"".concat("/client-g-tech","/assets/images/").concat(e.productDetails.imageUrl,".jpg"),alt:e.title})}),Object(b.jsxs)(re.a,{children:[Object(b.jsx)(Q.a,{variant:"h4",align:"center",children:e.productDetails.title}),Object(b.jsx)(Q.a,{variant:"body1",align:"center",children:e.productDetails.description})]}),Object(b.jsx)(N.a,{component:k.b,to:"/update-product/".concat(e._id),children:"Update"})]},e._id)}))})},ce=function(e){var t=e.user,r=Object(n.useState)(""),a=Object(O.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),o=Object(O.a)(i,2),u=o[0],j=o[1],d=Object(n.useState)(""),p=Object(O.a)(d,2),m=p[0],h=p[1],f=Object(n.useState)(""),g=Object(O.a)(f,2),x=g[0],v=g[1],y=Object(n.useState)(""),S=Object(O.a)(y,2),w=S[0],C=S[1],k=Object(n.useState)(""),N=Object(O.a)(k,2),U=N[0],W=N[1],P=Object(n.useState)(0),q=Object(O.a)(P,2),I=q[0],T=q[1],B=Object(n.useState)(0),E=Object(O.a)(B,2),F=E[0],G=E[1],z=Object(n.useState)(0),H=Object(O.a)(z,2),Q=H[0],R=H[1],_=Object(l.f)().id;return Object(b.jsx)($,{onSubmitProduct:function(e){e.preventDefault(),function(){var e=Object(D.a)(A.a.mark((function e(){var r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t,_,c,u,m,x,w,U,I,F,Q);case 3:r=e.sent,console.log("successfully updated",r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},title:c,setTitle:s,description:u,setDescription:j,imageUrl:m,setImageUrl:h,creator:x,setCreator:v,genre:w,setGenre:C,platform:U,setPlatform:W,rating:I,setRating:T,quantity:F,setQuantity:G,price:Q,setPrice:R})},se=r(165),ie=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).setUser=function(e){return n.setState({user:e})},n.setIsAdmin=function(e){n.setState({isAdmin:e}),console.log("is admin set to: ",n.state.isAdmin)},n.clearUser=function(){return n.setState({user:null})},n.state={user:null,isAdmin:!1},n}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.user,a=t.isAdmin;return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(W,{user:r,isAdmin:a}),Object(b.jsxs)(se.a,{maxWidth:"sm",children:[Object(b.jsx)(l.b,{path:"/sign-up",render:function(){return Object(b.jsx)(_,{user:r,setUser:e.setUser})}}),Object(b.jsx)(l.b,{path:"/sign-in",render:function(){return Object(b.jsx)(L,{user:r,setUser:e.setUser,setIsAdmin:e.setIsAdmin})}}),Object(b.jsx)(m,{user:r,path:"/change-password",render:function(){return Object(b.jsx)(V,{user:r})}}),Object(b.jsx)(m,{user:r,path:"/sign-out",render:function(){return Object(b.jsx)(K,{user:r,setIsAdmin:e.setIsAdmin,clearUser:e.clearUser})}}),Object(b.jsx)(m,{user:r,path:"/create-product",render:function(){return Object(b.jsx)(ee,{user:r})}}),Object(b.jsx)(m,{user:r,path:"/update-product/:id",render:function(){return Object(b.jsx)(ce,{user:r})}}),Object(b.jsx)(l.b,{path:"/index-products",render:function(){return Object(b.jsx)(ae,{})}})]})]})}}]),r}(n.Component),oe=Object(b.jsx)(k.a,{children:Object(b.jsx)(ie,{})});c.a.render(oe,document.querySelector("#root"))},86:function(e,t,r){},91:function(e,t,r){}},[[117,1,2]]]);
//# sourceMappingURL=main.f6d5d6a5.chunk.js.map