(this["webpackJsonpclient-g-tech"]=this["webpackJsonpclient-g-tech"]||[]).push([[0],{106:function(e,t,r){"use strict";r.r(t);r(75);var n=r(0),a=r(10),c=r.n(a),s=r(61),o=r(62),i=r(68),u=r(67),l=(r(80),r(11)),j=r(32),p=r(69),b=r(4),d=["user","component","render"],h=function(e){var t=e.user,r=e.component,n=e.render,a=Object(p.a)(e,d);return t&&n?(console.log("there is a user"),Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:n}))):(console.log("no user"),Object(b.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return t?Object(b.jsx)(r,Object(j.a)({},e)):Object(b.jsx)(l.a,{to:"/"})}})))},O=r(142),m=r(143),f=r(16),g=r(140),x=r(137),v=Object(x.a)({link:{margin:"1rem"},navBar:{marginBottom:"2rem"}}),w=function(e){var t=e.user,r=v(),a=Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(g.a,{className:r.link,component:f.b,to:"/change-password",color:"inherit",children:"Change Password"}),Object(b.jsx)(g.a,{className:r.link,component:f.b,to:"/sign-out",color:"inherit",children:"Sign Out"})]}),c=Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(g.a,{className:r.link,component:f.b,to:"/sign-up",color:"inherit",children:"Sign Up"}),Object(b.jsx)(g.a,{className:r.link,component:f.b,to:"/sign-in",color:"inherit",children:"Sign In"})]});return Object(b.jsx)(O.a,{position:"static",className:r.navBar,children:Object(b.jsx)(m.a,{style:{justifyContent:"flex-end"},children:t?a:c})})},y=r(18),S=r.n(y),k=r(24),N=r(22),C="http://localhost:8080",U=r(37),W=r.n(U),q=function(e,t,r){return W()({method:"POST",url:C+"/sign-up",data:{credentials:{email:e,password:t,password_confirmation:r}}})},B=function(e,t){return W()({method:"POST",url:C+"/sign-in",data:{credentials:{email:e,password:t}}})},P=function(e,t,r){return console.log(e),W()({method:"PATCH",url:C+"/change-password",headers:{Authorization:"Bearer ".concat(e.token)},data:{passwords:{old:t,new:r}}})},E=function(e){return W()({method:"DELETE",url:C+"/sign-out",headers:{Authorization:"Bearer ".concat(e.token)}})},D=r(108),T=r(145),A=r(146),F=r(107),z=Object(x.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),I=Object(l.f)((function(e){var t=e.setUser,r=e.history,a=Object(n.useState)(""),c=Object(N.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(""),u=Object(N.a)(i,2),l=u[0],j=u[1],p=Object(n.useState)(""),d=Object(N.a)(p,2),h=d[0],O=d[1],m=z();return Object(b.jsxs)(D.a,{className:m.paper,children:[Object(b.jsx)(F.a,{variant:"h4",align:"center",children:"Sign Up"}),Object(b.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),function(){var e=Object(k.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(s,l,h);case 3:n=e.sent,t(n.data.user),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error message: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(b.jsx)(T.a,{className:m.input,value:s,onChange:function(e){return o(e.target.value)},label:"Email",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(T.a,{className:m.input,value:l,onChange:function(e){return j(e.target.value)},label:"Password",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(T.a,{className:m.input,value:h,onChange:function(e){return O(e.target.value)},label:"Password Confirm",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),J=Object(x.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),H=Object(l.f)((function(e){e.user;var t=e.setUser,r=e.history,a=Object(n.useState)(""),c=Object(N.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(""),u=Object(N.a)(i,2),l=u[0],j=u[1],p=J();return Object(b.jsxs)(D.a,{className:p.paper,children:[Object(b.jsx)(F.a,{variant:"h4",align:"center",children:"Sign In"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(k.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(s,l);case 3:n=e.sent,t(n.data.user),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(b.jsx)(T.a,{className:p.input,value:s,onChange:function(e){return o(e.target.value)},label:"Email",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(T.a,{className:p.input,value:l,onChange:function(e){return j(e.target.value)},label:"Password",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),L=Object(x.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),V=Object(l.f)((function(e){var t=e.user,r=e.history,a=Object(n.useState)(""),c=Object(N.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)(""),u=Object(N.a)(i,2),l=u[0],j=u[1],p=L();return Object(b.jsxs)(D.a,{className:p.paper,children:[Object(b.jsx)(F.a,{variant:"h4",align:"center",children:"Change Password"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(k.a)(S.a.mark((function e(){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t,s,l);case 3:n=e.sent,console.log("changepassword response:",n),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(b.jsx)(T.a,{className:p.input,value:s,onChange:function(e){return o(e.target.value)},label:"old password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(T.a,{className:p.input,value:l,onChange:function(e){return j(e.target.value)},label:"new password",color:"primary",fullWidth:!0,required:!0}),Object(b.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),_=Object(l.f)((function(e){var t=e.user,r=e.clearUser,a=e.history;return Object(n.useEffect)((function(){!function(){var e=Object(k.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{E(t),r(),a.push("/")}catch(n){console.log("error")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()})),null})),G=r(144),K=function(e){Object(i.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).setUser=function(e){return n.setState({user:e})},n.clearUser=function(){return n.setState({user:null})},n.state={user:null},n}return Object(o.a)(r,[{key:"render",value:function(){var e=this,t=this.state.user;return Object(b.jsxs)(n.Fragment,{children:[Object(b.jsx)(w,{user:t}),Object(b.jsxs)(G.a,{maxWidth:"sm",children:[Object(b.jsx)(l.b,{path:"/sign-up",render:function(){return Object(b.jsx)(I,{user:t,setUser:e.setUser})}}),Object(b.jsx)(l.b,{path:"/sign-in",render:function(){return Object(b.jsx)(H,{user:t,setUser:e.setUser})}}),Object(b.jsx)(h,{user:t,path:"/change-password",render:function(){return Object(b.jsx)(V,{user:t})}}),Object(b.jsx)(h,{user:t,path:"/sign-out",render:function(){return Object(b.jsx)(_,{user:t,clearUser:e.clearUser})}})]})]})}}]),r}(n.Component),M=Object(b.jsx)(f.a,{children:Object(b.jsx)(K,{})});c.a.render(M,document.querySelector("#root"))},75:function(e,t,r){},80:function(e,t,r){}},[[106,1,2]]]);
//# sourceMappingURL=main.e6148226.chunk.js.map