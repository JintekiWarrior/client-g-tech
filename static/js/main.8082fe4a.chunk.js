(this["webpackJsonpclient-g-tech"]=this["webpackJsonpclient-g-tech"]||[]).push([[0],{117:function(e,t,r){"use strict";r.r(t);r(86);var n=r(0),a=r(11),c=r.n(a),s=r(69),i=r(70),u=r(77),o=r(76),l=(r(91),r(13)),j=r(40),d=r(78),p=r(2),b=["user","component","render"],m=function(e){var t=e.user,r=e.component,n=e.render,a=Object(d.a)(e,b);return t&&n?(console.log("there is a user"),Object(p.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:n}))):(console.log("no user"),Object(p.jsx)(l.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return t?Object(p.jsx)(r,Object(j.a)({},e)):Object(p.jsx)(l.a,{to:"/"})}})))},h=r(7),O=r(157),f=r(75),g=r(167),x=r(159),v=r(154),y=Object(v.a)({menu:{marginTop:"3em"}}),S=function(e){var t=Object(n.useState)(null),r=Object(h.a)(t,2),a=r[0],c=r[1],s=Boolean(a),i=y(),u=function(){c(null)};return Object(p.jsxs)(n.Fragment,{children:[Object(p.jsx)(O.a,{color:"inherit",onClick:function(e){c(e.currentTarget)},children:"admin"}),Object(p.jsx)(f.a,{className:i.menu,anchorEl:a,keepMounted:!0,open:s,onClose:u,TransitionComponent:x.a,children:Object(p.jsx)(g.a,{onClick:u,children:e.children})})]})},w=r(161),k=r(162),C=r(15),N=r(160),U=Object(v.a)({link:{margin:"1rem"},navBar:{marginBottom:"2rem"}}),W=function(e){var t=e.user,r=e.isAdmin,a=U(),c=Object(p.jsx)(n.Fragment,{children:Object(p.jsxs)(S,{children:[Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/create-product",children:"Create"}),Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/update-product",children:"Update"}),Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/index-products",children:"Index"})]})}),s=Object(p.jsxs)(n.Fragment,{children:[Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/change-password",color:"inherit",children:"Change Password"}),Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/sign-out",color:"inherit",children:"Sign Out"})]}),i=Object(p.jsxs)(n.Fragment,{children:[Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/sign-up",color:"inherit",children:"Sign Up"}),Object(p.jsx)(N.a,{className:a.link,component:C.b,to:"/sign-in",color:"inherit",children:"Sign In"})]});return Object(p.jsx)(w.a,{position:"static",className:a.navBar,children:Object(p.jsxs)(k.a,{style:{justifyContent:"flex-end"},children:[t?s:i,r?c:""]})})},A=r(12),P=r.n(A),D=r(17),q="http://localhost:8080",I=r(25),T=r.n(I),B=function(e,t,r){return T()({method:"POST",url:q+"/sign-up",data:{credentials:{email:e,password:t,password_confirmation:r}}})},E=function(e,t){return T()({method:"POST",url:q+"/sign-in",data:{credentials:{email:e,password:t}}})},F=function(e,t,r){return console.log(e),T()({method:"PATCH",url:q+"/change-password",headers:{Authorization:"Bearer ".concat(e.token)},data:{passwords:{old:t,new:r}}})},z=function(e){return T()({method:"DELETE",url:q+"/sign-out",headers:{Authorization:"Bearer ".concat(e.token)}})},G=r(80),H=r(166),Q=r(118),R=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),_=Object(l.g)((function(e){var t=e.setUser,r=e.history,a=Object(n.useState)(""),c=Object(h.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(""),o=Object(h.a)(u,2),l=o[0],j=o[1],d=Object(n.useState)(""),b=Object(h.a)(d,2),m=b[0],f=b[1],g=R();return Object(p.jsxs)(G.a,{className:g.paper,children:[Object(p.jsx)(Q.a,{variant:"h4",align:"center",children:"Sign Up"}),Object(p.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),function(){var e=Object(D.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(s,l,m);case 3:n=e.sent,t(n.data.user),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error message: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(p.jsx)(H.a,{className:g.input,value:s,onChange:function(e){return i(e.target.value)},label:"Email",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(H.a,{className:g.input,value:l,onChange:function(e){return j(e.target.value)},label:"Password",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(H.a,{className:g.input,value:m,onChange:function(e){return f(e.target.value)},label:"Password Confirm",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),J=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),L=Object(l.g)((function(e){e.user;var t=e.setUser,r=e.setIsAdmin,a=e.history,c=Object(n.useState)(""),s=Object(h.a)(c,2),i=s[0],u=s[1],o=Object(n.useState)(""),l=Object(h.a)(o,2),j=l[0],d=l[1],b=J();return Object(p.jsxs)(G.a,{className:b.paper,children:[Object(p.jsx)(Q.a,{variant:"h4",align:"center",children:"Sign In"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(D.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(i,j);case 3:n=e.sent,t(n.data.user),"admin"===n.data.user.role&&r(!0),a.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(p.jsx)(H.a,{className:b.input,value:i,onChange:function(e){return u(e.target.value)},label:"Email",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(H.a,{className:b.input,value:j,onChange:function(e){return d(e.target.value)},label:"Password",type:"password",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),M=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),V=Object(l.g)((function(e){var t=e.user,r=e.history,a=Object(n.useState)(""),c=Object(h.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(""),o=Object(h.a)(u,2),l=o[0],j=o[1],d=M();return Object(p.jsxs)(G.a,{className:d.paper,children:[Object(p.jsx)(Q.a,{variant:"h4",align:"center",children:"Change Password"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(D.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t,s,l);case 3:n=e.sent,console.log("changepassword response:",n),r.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()},children:[Object(p.jsx)(H.a,{className:d.input,value:s,onChange:function(e){return i(e.target.value)},label:"old password",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(H.a,{className:d.input,value:l,onChange:function(e){return j(e.target.value)},label:"new password",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})})),K=Object(l.g)((function(e){var t=e.user,r=e.setIsAdmin,a=e.clearUser,c=e.history;return Object(n.useEffect)((function(){!function(){var e=Object(D.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{z(t),a(),r(!1),c.push("/")}catch(n){console.log("error")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()})),null})),X=function(e,t,r,n,a,c,s,i,u,o){return T()({method:"POST",url:q+"/products",headers:{Authorization:"Bearer ".concat(e.token)},data:{product:{productDetails:{title:t,description:r,imageUrl:n,creator:a,genre:c,platform:s,rating:i},purchaseDetails:{quantity:u,price:o}}}})},Y=function(e,t,r,n,a,c,s,i,u,o,l){return T()({method:"PATCH",url:q+"/products/"+t,headers:{Authorization:"Bearer ".concat(e.token)},data:{product:{productDetails:{title:r,description:n,imageUrl:a,creator:c,genre:s,platform:i,rating:u},purchaseDetails:{quantity:o,price:l}}}})},Z=function(e,t){return T()({method:"DELETE",url:q+"/products/"+t,headers:{Authorization:"Bearer ".concat(e.token)}})},$=Object(v.a)({input:{marginBottom:"2rem"},paper:{padding:"2rem"}}),ee=function(e){var t=e.onSubmitProduct,r=e.title,n=e.setTitle,a=e.description,c=e.setDescription,s=e.imageUrl,i=e.setImageUrl,u=e.creator,o=e.setCreator,l=e.genre,j=e.setGenre,d=e.platform,b=e.setPlatform,m=e.rating,h=e.setRating,f=e.quantity,g=e.setQuantity,x=e.price,v=e.setPrice,y=$();return Object(p.jsxs)(G.a,{className:y.paper,children:[Object(p.jsx)(Q.a,{variant:"h4",align:"center",children:"Add a product"}),Object(p.jsxs)("form",{onSubmit:t,children:[Object(p.jsx)(H.a,{className:y.input,value:r,onChange:function(e){return n(e.target.value)},label:"Title",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(H.a,{className:y.input,value:a,onChange:function(e){return c(e.target.value)},label:"Description",color:"primary",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,required:!0}),Object(p.jsx)(H.a,{className:y.input,value:s,onChange:function(e){return i(e.target.value)},label:"Image",color:"primary",fullWidth:!0,required:!0}),Object(p.jsx)(H.a,{className:y.input,value:u,onChange:function(e){return o(e.target.value)},label:"Creator",color:"primary",fullWidth:!0}),Object(p.jsx)(H.a,{className:y.input,value:l,onChange:function(e){return j(e.target.value)},label:"Genre",color:"primary",fullWidth:!0}),Object(p.jsx)(H.a,{className:y.input,value:d,onChange:function(e){return b(e.target.value)},label:"Platform",color:"primary",fullWidth:!0}),Object(p.jsx)(H.a,{className:y.input,value:m,onChange:function(e){return h(e.target.value)},label:"Rating",color:"primary",fullWidth:!0}),Object(p.jsx)(H.a,{className:y.input,value:f,onChange:function(e){return g(e.target.value)},label:"Quantity",color:"primary",fullWidth:!0}),Object(p.jsx)(H.a,{className:y.input,value:x,onChange:function(e){return v(e.target.value)},label:"Price",color:"primary",fullWidth:!0}),Object(p.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"})]})]})},te=function(e){var t=e.user,r=Object(n.useState)(""),a=Object(h.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),o=u[0],l=u[1],j=Object(n.useState)(""),d=Object(h.a)(j,2),b=d[0],m=d[1],O=Object(n.useState)(""),f=Object(h.a)(O,2),g=f[0],x=f[1],v=Object(n.useState)(""),y=Object(h.a)(v,2),S=y[0],w=y[1],k=Object(n.useState)(""),C=Object(h.a)(k,2),N=C[0],U=C[1],W=Object(n.useState)(0),A=Object(h.a)(W,2),q=A[0],I=A[1],T=Object(n.useState)(0),B=Object(h.a)(T,2),E=B[0],F=B[1],z=Object(n.useState)(0),G=Object(h.a)(z,2),H=G[0],Q=G[1];return Object(p.jsx)(ee,{onSubmitProduct:function(e){e.preventDefault(),function(){var e=Object(D.a)(P.a.mark((function e(){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(t,c,o,b,g,S,N,q,E,H);case 3:r=e.sent,console.log("successfully created",r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},title:c,setTitle:s,description:o,setDescription:l,imageUrl:b,setImageUrl:m,creator:g,setCreator:x,genre:S,setGenre:w,platform:N,setPlatform:U,rating:q,setRating:I,quantity:E,setQuantity:F,price:H,setPrice:Q})},re=r(163),ne=r(164),ae=function(e){var t=e.user,r=e.productId;return Object(p.jsx)(O.a,{onClick:function(e){e.preventDefault(),function(){var e=Object(D.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t,r);case 3:n=e.sent,console.log("successfully deleted",n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},children:"Delete"})},ce=Object(v.a)({root:{maxWidth:"20rem",maxHeight:"30rem",margin:"2rem auto"},mediaContainer:{maxWidth:"7rem",margin:"1rem auto"},media:{display:"block",maxHeight:"100%",maxWidth:"100%"}}),se=function(e){var t=e.user,r=Object(n.useState)([]),a=Object(h.a)(r,2),c=a[0],s=a[1],i=ce();return Object(n.useEffect)((function(){(function(){var e=Object(D.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T()({method:"GET",url:q+"/products"});case 3:t=e.sent,s(t.data.product),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(c),Object(p.jsx)(n.Fragment,{children:c.map((function(e){return Object(p.jsxs)(re.a,{className:i.root,children:[Object(p.jsx)("div",{className:i.mediaContainer,children:Object(p.jsx)("img",{className:i.media,src:"".concat("/client-g-tech","/assets/images/").concat(e.productDetails.imageUrl,".jpg"),alt:e.title})}),Object(p.jsxs)(ne.a,{children:[Object(p.jsx)(Q.a,{variant:"h4",align:"center",children:e.productDetails.title}),Object(p.jsx)(Q.a,{variant:"body1",align:"center",children:e.productDetails.description})]}),Object(p.jsx)(N.a,{component:C.b,to:"/update-product/".concat(e._id),children:"Update"}),Object(p.jsx)(ae,{user:t,productId:e._id})]},e._id)}))})},ie=function(e){var t=e.user,r=Object(n.useState)(""),a=Object(h.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),o=u[0],j=u[1],d=Object(n.useState)(""),b=Object(h.a)(d,2),m=b[0],O=b[1],f=Object(n.useState)(""),g=Object(h.a)(f,2),x=g[0],v=g[1],y=Object(n.useState)(""),S=Object(h.a)(y,2),w=S[0],k=S[1],C=Object(n.useState)(""),N=Object(h.a)(C,2),U=N[0],W=N[1],A=Object(n.useState)(0),q=Object(h.a)(A,2),I=q[0],T=q[1],B=Object(n.useState)(0),E=Object(h.a)(B,2),F=E[0],z=E[1],G=Object(n.useState)(0),H=Object(h.a)(G,2),Q=H[0],R=H[1],_=Object(l.f)().id;return Object(p.jsx)(ee,{onSubmitProduct:function(e){e.preventDefault(),function(){var e=Object(D.a)(P.a.mark((function e(){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t,_,c,o,m,x,w,U,I,F,Q);case 3:r=e.sent,console.log("successfully updated",r.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},title:c,setTitle:s,description:o,setDescription:j,imageUrl:m,setImageUrl:O,creator:x,setCreator:v,genre:w,setGenre:k,platform:U,setPlatform:W,rating:I,setRating:T,quantity:F,setQuantity:z,price:Q,setPrice:R})},ue=r(165),oe=function(e){Object(u.a)(r,e);var t=Object(o.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).setUser=function(e){return n.setState({user:e})},n.setIsAdmin=function(e){n.setState({isAdmin:e}),console.log("is admin set to: ",n.state.isAdmin)},n.clearUser=function(){return n.setState({user:null})},n.state={user:null,isAdmin:!1},n}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.state,r=t.user,a=t.isAdmin;return Object(p.jsxs)(n.Fragment,{children:[Object(p.jsx)(W,{user:r,isAdmin:a}),Object(p.jsxs)(ue.a,{maxWidth:"sm",children:[Object(p.jsx)(l.b,{path:"/sign-up",render:function(){return Object(p.jsx)(_,{user:r,setUser:e.setUser})}}),Object(p.jsx)(l.b,{path:"/sign-in",render:function(){return Object(p.jsx)(L,{user:r,setUser:e.setUser,setIsAdmin:e.setIsAdmin})}}),Object(p.jsx)(m,{user:r,path:"/change-password",render:function(){return Object(p.jsx)(V,{user:r})}}),Object(p.jsx)(m,{user:r,path:"/sign-out",render:function(){return Object(p.jsx)(K,{user:r,setIsAdmin:e.setIsAdmin,clearUser:e.clearUser})}}),Object(p.jsx)(m,{user:r,path:"/create-product",render:function(){return Object(p.jsx)(te,{user:r})}}),Object(p.jsx)(m,{user:r,path:"/update-product/:id",render:function(){return Object(p.jsx)(ie,{user:r})}}),Object(p.jsx)(m,{user:r,path:"/index-products",render:function(){return Object(p.jsx)(se,{user:r})}})]})]})}}]),r}(n.Component),le=Object(p.jsx)(C.a,{children:Object(p.jsx)(oe,{})});c.a.render(le,document.querySelector("#root"))},86:function(e,t,r){},91:function(e,t,r){}},[[117,1,2]]]);
//# sourceMappingURL=main.8082fe4a.chunk.js.map